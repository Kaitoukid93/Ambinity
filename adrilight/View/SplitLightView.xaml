<UserControl x:Class="adrilight.View.SplitLightView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
             xmlns:local="clr-namespace:adrilight.View"
             mc:Ignorable="d" 
             xmlns:hc="https://handyorg.github.io/handycontrol"
               xmlns:materialDesign="clr-namespace:MaterialDesignThemes.Wpf;assembly=MaterialDesignThemes.Wpf" xmlns:converters="clr-namespace:adrilight.Converter" xmlns:viewmodel="clr-namespace:adrilight.ViewModel" xmlns:lottieSharp="clr-namespace:LottieSharp;assembly=LottieSharp" d:DataContext="{d:DesignInstance Type=viewmodel:MainViewViewModel}"
             Background="{DynamicResource RegionBrush}"
              TextElement.FontWeight="Regular"
              
              TextOptions.TextFormattingMode="Ideal" 
              TextOptions.TextRenderingMode="Auto"   
              FontFamily="{StaticResource MaterialDesignFont}"  Height="1072" Width="1000"
    >
    <UserControl.Resources>
        <ResourceDictionary>
            <converters:ColorToBrushConverter x:Key="ColorToBrushConverter" />
            <converters:BrushToHexConverter x:Key="BrushToHexConverter" />
            <BooleanToVisibilityConverter x:Key="boolToVisibilityConvert" />

            <Style x:Key="_ListBoxItemStyle" TargetType="ListBoxItem">
                <Setter Property="Template">
                    <Setter.Value>
                        <ControlTemplate TargetType="ListBoxItem">
                            <Border CornerRadius="2" Name="_Border"
                                Padding="0"
                                SnapsToDevicePixels="true">
                                <ContentPresenter />
                            </Border>
                            <ControlTemplate.Triggers>
                                <Trigger Property="IsSelected" Value="true">
                                    <Setter TargetName="_Border" Property="Background" Value="{DynamicResource VioletBrush}"/>
                                   
                                    
                                </Trigger>
                            </ControlTemplate.Triggers>
                        </ControlTemplate>
                    </Setter.Value>
                
                    
                </Setter>
            </Style>

        </ResourceDictionary>
    </UserControl.Resources>

    <Grid  Margin="10,0,0,0" HorizontalAlignment="Left">
        <Grid.ColumnDefinitions>
            <ColumnDefinition/>
            <ColumnDefinition Width="auto" MinWidth="418"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="7*"/>

        </Grid.RowDefinitions>
        <Grid Grid.ColumnSpan="2" Grid.Row="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="auto"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <Grid Width="568" HorizontalAlignment="Stretch" Grid.Row="1" Grid.Column="0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="165*"/>
                    <ColumnDefinition Width="119*"/>
                </Grid.ColumnDefinitions>


                <TextBlock Style="{DynamicResource TextBlockSubTitle}" Foreground="{DynamicResource SecondaryTextBrush}" Margin="10,0,0,0"   Text="LIGHTING"  VerticalAlignment="Center" HorizontalAlignment="Left" />

            </Grid>
            <Grid Grid.ColumnSpan="2">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="auto"/>
                    <ColumnDefinition Width="auto"/>
                    <ColumnDefinition Width="auto"/>

                </Grid.ColumnDefinitions>



                <TextBox  MaxLength="25" Style="{DynamicResource TextBoxExtend}" Grid.Column="0" BorderThickness="0" Text="{Binding CurrentDevice.DeviceName}" hc:BorderElement.CornerRadius="7"  Margin="10,0,0,0"  BorderBrush="{x:Null}" VerticalAlignment="Center" FontWeight="SemiBold" Padding="12,5" VerticalContentAlignment="Center">

                </TextBox>

                <hc:ProgressButton  ToolTip="DFU" Progress="{Binding DFUProgress,Mode=OneWayToSource}" hc:BorderElement.CornerRadius="7" Grid.Column="1" BorderThickness="0" x:Name="DFU"   Width="Auto" Margin="5" Checked="DFU_Checked" Click="DFU_Click" Height="32" HorizontalAlignment="Left" Background="#3F326CF3" Foreground="#FF326CF3">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>
                        <materialDesign:PackIcon x:Name="DFUIcon" Kind="ProgressDownload" Grid.Column="0" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0" Width="20" Height="20"/>
                        <TextBlock x:Name="DFUText"  Grid.Column="1" FontWeight="SemiBold" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0">

                        </TextBlock>
                    </Grid>
                </hc:ProgressButton>
                <hc:ButtonGroup x:Name="outputNavigation" IsEnabled="true"  Style="{StaticResource ButtonGroupSolid}" ItemsSource="{Binding HUBOutputCollection}"  Grid.Column="2" VerticalAlignment="Center" HorizontalAlignment="Left" Margin="15,0,0,0">
                    <hc:ButtonGroup.ItemTemplate>
                        <DataTemplate>
                            <RadioButton IsChecked="{Binding IsNavigationSelected}" Width="60" Command="{Binding Path=DataContext.SelectCardCommand, ElementName=outputNavigation}" CommandParameter="{Binding}" GroupName="HUB" Style="{StaticResource RadioGroupItemDefault}" Content="{Binding DeviceName}">

                            </RadioButton>
                        </DataTemplate>
                    </hc:ButtonGroup.ItemTemplate>
                </hc:ButtonGroup>
            </Grid>
        </Grid>
        <Grid Margin="10,0,10,0"  Grid.Row="0" Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="*"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>
            <Button Command="{Binding BackCommand}" Style="{StaticResource MaterialDesignFlatButton}" Content="Back" materialDesign:ButtonAssist.CornerRadius="7" materialDesign:ShadowAssist.ShadowDepth="Depth0" Margin="0,0,20,0" Background="#28000000" BorderBrush="{x:Null}" Foreground="#FF898989" HorizontalAlignment="Right" Width="75" Height="32">


            </Button>

            <TextBlock Margin="10,0,0,10" Grid.Row="1" Grid.Column="0" Text="PREVIEW" FontSize="14" VerticalAlignment="Bottom" HorizontalAlignment="Left" Foreground="#FF898989"/>
        </Grid>
        <Grid Grid.Row="1" Grid.Column="1">
            <Grid.RowDefinitions>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>
                <RowDefinition Height="auto"/>

            </Grid.RowDefinitions>

            <!--Preview zone-->
            <ItemsControl Grid.Row="1" ItemsSource="{Binding PreviewSpots}"
                            Width="360" Height="360" HorizontalAlignment="Center" VerticalAlignment="Center" Margin="0,20" >
                <ItemsControl.ItemsPanel>
                    <ItemsPanelTemplate>
                        <Canvas Width="360" Height="360" VerticalAlignment="Center" HorizontalAlignment="Center" />
                    </ItemsPanelTemplate>
                </ItemsControl.ItemsPanel>
                <ItemsControl.ItemContainerStyle>
                    <Style TargetType="{x:Type ContentPresenter}">
                        <Setter Property="Canvas.Left" Value="{Binding DisplayRectangle.X,Mode=TwoWay}"/>
                        <Setter Property="Canvas.Top" Value="{Binding DisplayRectangle.Y, Mode=TwoWay}"/>
                    </Style>
                </ItemsControl.ItemContainerStyle>
                <ItemsControl.ItemTemplate>
                    <DataTemplate>
                        <Grid>

                            <Rectangle ToolTip="{Binding ID}" Stroke="White" RadiusX="{Binding RadiusX}" RadiusY="{Binding RadiusY}" StrokeThickness="0.5" Width="{Binding DisplayRectangle.Width}" Height="{Binding DisplayRectangle.Height}" xmlns:i="clr-namespace:System.Windows.Interactivity;assembly=System.Windows.Interactivity">
                                <Rectangle.Fill>
                                    <RadialGradientBrush>
                                        <GradientStop Color="{Binding OnDemandColor}"  Offset="0"/>
                                        <GradientStop Color="{Binding OnDemandColorTransparent}" Offset="1"/>
                                    </RadialGradientBrush>
                                </Rectangle.Fill>

                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="MouseDown" >
                                        <i:InvokeCommandAction Command="{Binding DataContext.SetNextSpotVIDCommand,RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}" />
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </Rectangle>
                            <TextBox   Visibility="{Binding ElementName=VIDEditEnable,Path=IsChecked,Converter={StaticResource boolToVisibilityConvert}}" Text="{Binding VID }" HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="White" LostFocus="TextBox_LostFocus"/>
                            <Rectangle Visibility="{Binding IsFirst, Converter={StaticResource BooleanToVisibilityConverter}}" RadiusX="4" RadiusY="4" Fill="#FF673AB7"
                                               Width="5" 
                                               Height="5" />

                        </Grid>
                    </DataTemplate>
                </ItemsControl.ItemTemplate>
            </ItemsControl>
            <!--<Button Command="{Binding DeleteCommand}" Width="75" Style="{StaticResource MaterialDesignFlatButton}" Grid.Row="3" Content="Delete" materialDesign:ButtonAssist.CornerRadius="7" materialDesign:ShadowAssist.ShadowDepth="Depth0" Margin="0,0,20,0" Background="#3FFD7E35" BorderBrush="{x:Null}" Foreground="#FFFD7E35" HorizontalAlignment="Right" VerticalAlignment="Center">


            </Button>-->
            <Border Height="{Binding CanvasHeight}" Grid.Row="5" Width="{Binding CanvasWidth}" BorderThickness="1" VerticalAlignment="Top" HorizontalAlignment="Center" Margin="0,30,0,0">
                <Border.Style>
                    <Style TargetType="Border">
                        <Setter Property="Visibility" Value="Collapsed"></Setter>
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding ElementName=EffectBox,Path=SelectedItem}" Value="Canvas Lighting">
                                <Setter Property="Visibility" Value="Visible"/>
                            </DataTrigger>
                            <DataTrigger Binding="{Binding ElementName=EffectBox,Path=SelectedItem}" Value="Sáng theo màn hình">
                                <Setter Property="Visibility" Value="Visible"/>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Border.Style>
                <Canvas Width="{Binding CanvasWidth}" Height="{Binding CanvasHeight}"
                    Background="Transparent" 
                    x:Name="deviceCanvas">
                    <Image Width="{Binding CanvasWidth}" Height="{Binding CanvasHeight}" Source="{Binding ShaderBitmap}"/>
                    <Rectangle x:Name="deviceRect"
                               Canvas.Top="{Binding DeviceRectY, Mode=TwoWay}"
                               Canvas.Left="{Binding DeviceRectX, Mode=TwoWay}"
                               Width="{Binding DeviceRectWidth, Mode=TwoWay}" 
                               Height="{Binding DeviceRectHeight, Mode=TwoWay}" Stroke="#FF7F7F7F"
                                Fill="#66969696">

                    </Rectangle>

                </Canvas>
            </Border>
            <Grid Margin="10,0,10,0" Height="80" Grid.Row="0">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <TextBlock Grid.Row="0" Margin="10,10,103,10" Grid.Column="0" Text="{Binding ElementName=EffectBox,Path=SelectedItem}" FontSize="17" VerticalAlignment="Center" Foreground="Black" Height="20"/>
                <TextBlock Margin="10,0,0,-0.2" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" Text="Bảng Preview này hiển thị trạng thái hiện tại của LED" FontSize="14" VerticalAlignment="Top" Foreground="#FF898989" Height="18" HorizontalAlignment="Left"/>


                <TextBlock Visibility="{Binding ElementName=Ambilight,Path=Visibility}" Grid.Row="0" Grid.Column="1" Margin="5,0,0,0" Text="{Binding ElementName=selecteddisplay,Path=Text}" FontSize="17" VerticalAlignment="Center" Foreground="Black" Height="20" HorizontalAlignment="Left"/>

                <Rectangle Margin="10,0,10,5" Grid.Row="1" Grid.ColumnSpan="2" Height="1" Fill="#26000000" VerticalAlignment="Bottom"/>




            </Grid>
            <StackPanel Grid.Row="2"/>
            <!--tool bar stackpanel-->
            <StackPanel Orientation="Horizontal" Grid.Row="3">
                <!-- enale toggle button-->
                <ToggleButton x:Name="VIDEditEnable" 
                              IsChecked="True" 
                              ToolTip="Unlock để chỉnh sửa vị trí LED ảo " 
                              Foreground="#FF326CF3" 
                              Background="#3F326CF3" 
                              Padding="7" 
                              Style="{StaticResource ToggleButtonSwitch}" 
                              Grid.Row="3"  
                              materialDesign:ButtonAssist.CornerRadius="7" 
                              materialDesign:ShadowAssist.ShadowDepth="Depth0" 
                              Margin="20,0,0,0"  BorderBrush="{x:Null}"  
                              HorizontalAlignment="Left" 
                              VerticalAlignment="Center">

                </ToggleButton>
                <!-- Zero All, set all spot VIDs to 0-->
                <Button 
                    Visibility="{Binding ElementName=VIDEditEnable,Path=IsChecked, Converter={StaticResource boolToVisibilityConvert}}" 
                    Foreground="#FF326CF3" 
                    Background="#3F326CF3" 
                    Padding="7" 
                    Command="{Binding ZerolAllCommand}" 
                    Style="{StaticResource MaterialDesignFlatButton}" 
                    Grid.Row="3"  
                    materialDesign:ButtonAssist.CornerRadius="7" 
                    materialDesign:ShadowAssist.ShadowDepth="Depth0" 
                    Margin="20,0,0,0"  
                    BorderBrush="{x:Null}"  
                    HorizontalAlignment="Left" 
                    VerticalAlignment="Center">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>
                        <materialDesign:PackIcon  Grid.Column="0"
                                                  Kind="NumberZeroCircle"
                                                  Height="20"
                                                  Width="20" 
                                                  VerticalAlignment="Center" 
                                                  HorizontalAlignment="Center" />
                    </Grid>


                </Button>
                <!-- increament from any startpoint-->
                <Button 
                    Visibility="{Binding ElementName=VIDEditEnable,Path=IsChecked, Converter={StaticResource boolToVisibilityConvert}}" 
                    Foreground="#FF326CF3" 
                    Background="#3F326CF3" 
                    Padding="7" 
                    Command="{Binding UserInputIncreamentCommand}" 
                    Style="{StaticResource MaterialDesignFlatButton}" 
                    Grid.Row="3"  
                    materialDesign:ButtonAssist.CornerRadius="7" 
                    materialDesign:ShadowAssist.ShadowDepth="Depth0" 
                    Margin="20,0,0,0"  
                    BorderBrush="{x:Null}"  
                    HorizontalAlignment="Left" 
                    VerticalAlignment="Center">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>
                        <materialDesign:PackIcon  Grid.Column="0"
                                                  Kind="Counter"
                                                  Height="20"
                                                  Width="20" 
                                                  VerticalAlignment="Center" 
                                                  HorizontalAlignment="Center" />
                    </Grid>


                </Button>
                <!-- increament from zero-->
                <Button 
                    Visibility="{Binding ElementName=VIDEditEnable,Path=IsChecked, Converter={StaticResource boolToVisibilityConvert}}" 
                    Foreground="#FF326CF3" 
                    Background="#3F326CF3"
                    Padding="7" 
                    Command="{Binding SetIncreamentCommandfromZero}" 
                    Style="{StaticResource MaterialDesignFlatButton}" 
                    Grid.Row="3" 
                    materialDesign:ButtonAssist.CornerRadius="7" 
                    materialDesign:ShadowAssist.ShadowDepth="Depth0" 
                    Margin="20,0,0,0"  BorderBrush="{x:Null}"  
                    HorizontalAlignment="Left" 
                    VerticalAlignment="Center">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>
                        <materialDesign:PackIcon  Grid.Column="0"
                                                  Kind="UndoVariant"
                                                  Height="20"
                                                  Width="20" 
                                                  VerticalAlignment="Center" 
                                                  HorizontalAlignment="Center" />
                    </Grid>


                </Button>
                <!-- import-->
                <Button 
                    Visibility="{Binding ElementName=VIDEditEnable,Path=IsChecked, Converter={StaticResource boolToVisibilityConvert}}" 
                    Foreground="#FF326CF3" 
                    Background="#3F326CF3" 
                    Padding="7" Command="{Binding ImportSpotDataCommand }" 
                    Style="{StaticResource MaterialDesignFlatButton}" 
                    Grid.Row="3"  
                    materialDesign:ButtonAssist.CornerRadius="7" 
                    materialDesign:ShadowAssist.ShadowDepth="Depth0" 
                    Margin="20,0,0,0"  BorderBrush="{x:Null}"  
                    HorizontalAlignment="Left" 
                    VerticalAlignment="Center">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>
                        <materialDesign:PackIcon  Grid.Column="0"
                                                  Kind="FileImport"
                                                  Height="20"
                                                  Width="20" 
                                                  VerticalAlignment="Center" 
                                                  HorizontalAlignment="Center" />
                    </Grid>


                </Button>
                <!-- export-->
                <Button 
                    Visibility="{Binding ElementName=VIDEditEnable,Path=IsChecked, Converter={StaticResource boolToVisibilityConvert}}" 
                    Foreground="#FF326CF3" 
                    Background="#3F326CF3" 
                    Padding="7" 
                    Command="{Binding ExportSpotDataCommand}" 
                    Style="{StaticResource MaterialDesignFlatButton}" 
                    Grid.Row="3"  
                    materialDesign:ButtonAssist.CornerRadius="7" 
                    materialDesign:ShadowAssist.ShadowDepth="Depth0" Margin="20,0,0,0"  
                    BorderBrush="{x:Null}"  
                    HorizontalAlignment="Left" 
                    VerticalAlignment="Center">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>
                        <materialDesign:PackIcon  Grid.Column="0"
                                                  Kind="FileExport"
                                                  Height="20"
                                                  Width="20" 
                                                  VerticalAlignment="Center" 
                                                  HorizontalAlignment="Center" />
                    </Grid>


                </Button>
                <!-- Snapshot button-->
                <Button 
                    Visibility="{Binding ElementName=VIDEditEnable,Path=IsChecked, Converter={StaticResource boolToVisibilityConvert}}" 
                    Foreground="#FF326CF3"
                    Background="#3F326CF3"
                    Padding="7" Command="{Binding SnapshotCommand}" 
                    Style="{StaticResource MaterialDesignFlatButton}" 
                    Grid.Row="3"  
                    materialDesign:ButtonAssist.CornerRadius="7" 
                    materialDesign:ShadowAssist.ShadowDepth="Depth0" 
                    Margin="20,0,0,0"  BorderBrush="{x:Null}"  
                    HorizontalAlignment="Left" 
                    VerticalAlignment="Center">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="3*"/>
                        </Grid.ColumnDefinitions>
                        <materialDesign:PackIcon  Grid.Column="0"
                                                  Kind="Camera"
                                                  Height="20"
                                                  Width="20" 
                                                  VerticalAlignment="Center" 
                                                  HorizontalAlignment="Center" />
                    </Grid>


                </Button>

            </StackPanel>
            <!--Adjust position buttons-->
            <Button 
                Foreground="#FF326CF3" 
                Background="#3F326CF3" 
                Padding="7" 
                Command="{Binding AdjustPositionCommand}"  
                Grid.Row="6"  
                materialDesign:ButtonAssist.CornerRadius="7" 
                materialDesign:ShadowAssist.ShadowDepth="Depth0"  
                BorderBrush="{x:Null}"  
                HorizontalAlignment="Center" 
                VerticalAlignment="Top" 
                Margin="0,30,0,0">
                <Button.Style>
                    <Style TargetType="Button" BasedOn="{StaticResource MaterialDesignFlatButton}">
                        <Setter Property="Visibility" Value="Collapsed"></Setter>
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding ElementName=EffectBox,Path=SelectedItem}" Value="Canvas Lighting">
                                <Setter Property="Visibility" Value="Visible"/>
                            </DataTrigger>
                            <DataTrigger Binding="{Binding ElementName=EffectBox,Path=SelectedItem}" Value="Sáng theo màn hình">
                                <Setter Property="Visibility" Value="Visible"/>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="3*"/>
                    </Grid.ColumnDefinitions>
                    <TextBlock Grid.Column="1" Text="Edit" Margin="5,0,0,0" Height="18" VerticalAlignment="Top"/>
                    <materialDesign:PackIcon  Grid.Column="0"
                        Kind="Edit"
                        Height="20"
                        Width="20" VerticalAlignment="Center" HorizontalAlignment="Center" />
                </Grid>


            </Button>
            <!--<TextBlock Text="Lock" Grid.Row="3" VerticalAlignment="Center" HorizontalAlignment="Right" Margin="0,0,280,0"/>-->


            <!--<ComboBox  SelectedIndex="{Binding DeviceType}" Width="114" Grid.Row="3" Margin="20,0,0,0" HorizontalAlignment="Left" VerticalAlignment="Center">
                <ComboBoxItem Content="Strip"/>
                <ComboBoxItem Content="Square"/>
                <ComboBoxItem Content="Matrix"/>
                <ComboBox.Style>
                    <Style TargetType="ComboBox" BasedOn="{StaticResource ComboBoxExtend}">
                        <Setter Property="Visibility" Value="Collapsed"></Setter>
                        <Style.Triggers>
                            <DataTrigger Binding="{dev}" Value="Sáng theo nhạc">
                                <Setter Property="Visibility" Value="Visible"/>
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </ComboBox.Style>
            </ComboBox>-->

        </Grid>

        <StackPanel Grid.Row="1" Grid.Column="0">
            <hc:ScrollViewer  Height="650" Margin="1,1,1,1" HorizontalScrollBarVisibility="Hidden" VerticalScrollBarVisibility="Auto" IsInertiaEnabled="True">
                <StackPanel Width="568">


                    <Grid x:Name="rgborder" Height="auto"  >
                       
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        
                        <TextBlock Style="{DynamicResource TextBlockDefaultSecLight}"  Margin="10, 0, 0, 10" Grid.Row="1"   Text="Nếu bạn thấy LED bị ngược ở một số màu cố định, thử đổi giá trị này nhé"  VerticalAlignment="Center"  HorizontalAlignment="Left"/>
                        
                        <ComboBox hc:InfoElement.Title="THỨ TỰ MÀU"  SelectedIndex="{Binding CurrentDevice.RGBOrder}" Style="{StaticResource ComboBoxExtend}" Grid.Row="0" Margin="10,10,10,10" HorizontalAlignment="Stretch" VerticalAlignment="Center">
                            <ComboBoxItem>
                                RGB
                            </ComboBoxItem>
                            <ComboBoxItem>
                                RBG
                            </ComboBoxItem>
                            <ComboBoxItem>
                                BRG
                            </ComboBoxItem>
                            <ComboBoxItem>
                                BGR
                            </ComboBoxItem>
                            <ComboBoxItem>
                                GBR
                            </ComboBoxItem>
                            <ComboBoxItem>
                                GRB
                            </ComboBoxItem>
                        </ComboBox>

                    </Grid>
                    <hc:Divider Margin="10,10,10,10" />
                    <Grid x:Name="brightness" Height="auto">
                     
                        <Grid.RowDefinitions>
                            <RowDefinition Height="auto"/>
                            <RowDefinition Height="auto"/>
                            <RowDefinition Height="auto"/>
                        </Grid.RowDefinitions>

                        <TextBlock Style="{DynamicResource TextBlockDefault}" Grid.Row="0" Margin="20,10,0,0" Grid.Column="0" Text="ĐỘ SÁNG"  VerticalAlignment="Center"  HorizontalAlignment="Left" />
                        <TextBlock  Style="{DynamicResource TextBlockDefaultSecLight}" Margin="10,0,10,10" Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="3" Text="Độ sáng của toàn bộ dây LED, áp dụng cho tất cả các chế độ"  VerticalAlignment="Center"  HorizontalAlignment="Left" />
                        
                        <hc:PreviewSlider Margin="10,10,10,10" Grid.Row="1" Name="PreviewSliderHorizontal" HorizontalAlignment="Stretch" Value="{Binding CurrentDevice.Brightness}" Maximum="100">
                            <hc:PreviewSlider.PreviewContent>
                                <Label Style="{DynamicResource LabelPrimary}" Content="{Binding Path=(hc:PreviewSlider.PreviewPosition),RelativeSource={RelativeSource Self}}" ContentStringFormat="#0.00"/>
                            </hc:PreviewSlider.PreviewContent>
                        </hc:PreviewSlider>

                    </Grid>
                    <hc:Divider Margin="10,10,10,10" />
                    <Grid x:Name="selectedeffect" Height="auto">
                  
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        
                        <TextBlock  Style="{DynamicResource TextBlockDefaultSecLight}" Margin="10,0,10,10" Grid.Row="1" Grid.Column="0"  Text="Chọn chế độ sáng chủ đạo cho thiết bị"  VerticalAlignment="Center"  HorizontalAlignment="Left"/>

                        <ComboBox HorizontalAlignment="Stretch" hc:InfoElement.Title="CHỌN CHẾ ĐỘ" Style="{StaticResource ComboBoxExtend}" SelectedIndex="{Binding CurrentDeviceSelectedEffect, Mode=TwoWay}" x:Name="EffectBox" ItemsSource="{Binding AvailableEffects}"  Grid.Row="0" Margin="10,10,10,10" VerticalAlignment="Center">

                        </ComboBox>

                    </Grid>
                    <hc:Divider Margin="10,10,10,10" />
                    <Grid x:Name="music">
                        <Grid.Style>
                            <Style TargetType="Grid">
                                <Setter Property="Visibility" Value="Collapsed"></Setter>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding ElementName=EffectBox,Path=SelectedItem}" Value="Sáng theo nhạc">
                                        <Setter Property="Visibility" Value="Visible"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Grid.Style>

                        <hc:TransitioningContentControl Width="568" TransitionMode="Right2LeftWithFade">


                            <StackPanel Margin="45,15,0,0" Orientation="Vertical">

                                <TextBlock HorizontalAlignment="Left" Style="{DynamicResource TextBlockSubTitle}" Foreground="{DynamicResource SecondaryTextBrush}" Margin="10,0,0,0" Padding="0,0,0,10" Text="CÀI ĐẶT NÂNG CAO CHO CHẾ ĐỘ SÁNG THEO NHẠC" VerticalAlignment="Center" />
                                <Grid Height="auto">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="auto"/>
                                       

                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <ComboBox hc:InfoElement.Title="CHỌN NGUỒN PHÁT" hc:InfoElement.Necessary="True" Margin="10,10,0,10" ItemsSource="{Binding AvailableAudioDevice}"  SelectedIndex="{Binding CurrentDevice.SelectedAudioDevice}" Style="{DynamicResource ComboBoxExtend}" HorizontalAlignment="Left"  VerticalAlignment="Center" />

                                </Grid>
                                <hc:Divider Margin="10,10,10,10" />
                                <Grid  Height="auto">
                                   
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    
                                    <TextBlock Style="{DynamicResource TextBlockDefaultSecLight}" HorizontalAlignment="Left" Margin="10, 0, 0, 10" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" Text="Các hiệu ứng nháy theo nhạc được cài sẵn"  VerticalAlignment="Center" />

                                    <ComboBox hc:InfoElement.Title="CHỌN HIỆU ỨNG"  HorizontalAlignment="Left"  SelectedIndex="{Binding CurrentDevice.SelectedMusicMode}" ItemsSource="{Binding AvailableMusicMode}" Style="{StaticResource ComboBoxExtend}"  Margin="10,10,10,10"  Grid.Row="0" VerticalAlignment="Center"/>

                                </Grid>
                                <hc:Divider Margin="10,10,10,10" />
                                <Grid Height="auto">
                                  
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                   
                                    <TextBlock Style="{DynamicResource TextBlockDefaultSecLight}" Margin="10,0,0,10" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="3"  VerticalAlignment="Center"  HorizontalAlignment="Left" Text="Màu sắc này tương tự như dải màu ở chế độ "/>

                                    <ComboBox hc:InfoElement.Title="CHỌN MÀU SẮC" HorizontalAlignment="Left" SelectedIndex="{Binding CurrentDevice.SelectedMusicPalette}" x:Name="MusicPaletteBox" ItemsSource="{Binding AvailableMusicPalette}" Style="{StaticResource ComboBoxExtend}" Margin="10,10,10,10"  VerticalAlignment="Center"/>

                                </Grid>
                                <hc:Divider Margin="10,10,10,10" />
                                <StackPanel Orientation="Vertical">
                                    <StackPanel.Style>
                                        <Style TargetType="StackPanel">
                                            <Setter Property="Visibility" Value="Collapsed"></Setter>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ElementName=MusicPaletteBox,Path=SelectedItem}" Value="Custom">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </StackPanel.Style>
                                    <hc:TransitioningContentControl TransitionMode="Left2RightWithFade" Margin="0,0,10,0">
                                        <Grid Height="auto">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="auto"/>
                                                <ColumnDefinition Width="auto"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                            </Grid.RowDefinitions>
                                            <TextBlock Style="{DynamicResource TextBlockDefault}" Grid.Row="0" Margin="20, 10, 0, 10" Grid.Column="0" Text="CUSTOM ZONE"  VerticalAlignment="Center"  HorizontalAlignment="Left"/>
                                            <TextBlock HorizontalAlignment="Left" Style="{DynamicResource TextBlockDefaultSecLight}" Margin="10, 0, 0, 10" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" Text="Click vào từng ô màu để chọn màu mà bạn muốn"  VerticalAlignment="Center" />
                                            <Button Grid.Column="1"
                ToolTip="Thêm thiết bị theo cách thủ công"  
                Content="Import" 
                Style="{DynamicResource ButtonPrimary}"
                Width="auto" 
                Height="32" 
                FontWeight="Bold"
                FontSize="14"
                VerticalAlignment="Center" 
                Padding="5,0"
                BorderBrush="BlueViolet"
                BorderThickness="1"
                hc:BorderElement.CornerRadius="7"
                Command="{Binding ShowAddNewCommand}" 
                HorizontalAlignment="Center" Margin="10,0,10,0">
                                                <Button.Background>
                                                    <SolidColorBrush Color="BlueViolet" Opacity="0.25">

                                                    </SolidColorBrush>

                                                </Button.Background>
                                                <Button.Foreground>
                                                    <SolidColorBrush Color="BlueViolet" />

                                                </Button.Foreground>

                                            </Button>

                                            <Button Grid.Column="2"
                ToolTip="Thêm thiết bị theo cách thủ công"  
                Content="Save" 
                Style="{DynamicResource ButtonPrimary}"
                Width="auto" 
                Height="32" 
                FontWeight="Bold"
                FontSize="14"
                VerticalAlignment="Center" 
                Padding="5,0"
                BorderBrush="BlueViolet"
                BorderThickness="1"
                hc:BorderElement.CornerRadius="7"
                Command="{Binding ShowAddNewCommand}" 
                HorizontalAlignment="Center" Margin="10,0,10,0">
                                                <Button.Background>
                                                    <SolidColorBrush Color="BlueViolet" Opacity="0.25">

                                                    </SolidColorBrush>

                                                </Button.Background>
                                                <Button.Foreground>
                                                    <SolidColorBrush Color="BlueViolet" />

                                                </Button.Foreground>

                                            </Button>
                                        </Grid>
                                        
                                    </hc:TransitioningContentControl>
                                    <hc:Divider Margin="10,10,10,10" />
                                    <hc:TransitioningContentControl TransitionMode="Left2RightWithFade">
                                        <Grid >
                                            <ListView HorizontalAlignment="Stretch"    Margin="10,10,10,10" x:Name="mRainbowCustomZone"  ItemsSource="{Binding CurrentCustomZoneColor}"  SelectedIndex="{Binding CurrentSelectedCustomColorIndex,Mode=OneWayToSource}"  VerticalAlignment="Center">
                                                <i:Interaction.Triggers>
                                                    <i:EventTrigger EventName="SelectionChanged">
                                                        <i:InvokeCommandAction Command="{Binding SetZoneColorCommand}" CommandParameter="SetZone"/>
                                                    </i:EventTrigger>
                                                </i:Interaction.Triggers>
                                                <ListView.ItemsPanel>
                                                    <ItemsPanelTemplate>
                                                        <hc:SimpleStackPanel Orientation="Horizontal">
                                                        </hc:SimpleStackPanel>
                                                    </ItemsPanelTemplate>
                                                </ListView.ItemsPanel>
                                                <ListView.Template>
                                                    <ControlTemplate TargetType="{x:Type ItemsControl}">
                                                        <Border>
                                                            <hc:ScrollViewer CanContentScroll="true" PreviewMouseWheel="ScrollViewer_PreviewMouseWheel" >
                                                                <ItemsPresenter />
                                                            </hc:ScrollViewer>
                                                        </Border>
                                                    </ControlTemplate>
                                                </ListView.Template>
                                                <ListView.ItemTemplate>
                                                    <DataTemplate>
                                                        <Rectangle  Fill="{Binding ., Converter={StaticResource ColorToBrushConverter}, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"   Margin="0,0,0,0" HorizontalAlignment="Center" VerticalAlignment="Center" Width="20" Height="20" >
                                                        </Rectangle>
                                                    </DataTemplate>
                                                </ListView.ItemTemplate>
                                            </ListView>
                                        </Grid>
                                    </hc:TransitioningContentControl>


                                    <hc:TransitioningContentControl TransitionMode="Left2RightWithFade">
                                        <Grid  Height="auto">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <hc:ColorPicker  SelectedBrush="{Binding CurrentPickedColor,Converter={StaticResource ColorToBrushConverter},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" x:Name="mColorPicker" Margin="0">


                                            </hc:ColorPicker>

                                        </Grid>

                                    </hc:TransitioningContentControl>
                                </StackPanel>


                            </StackPanel>
                        </hc:TransitioningContentControl>

                    </Grid>
                    <!-- Music-->
                    <Grid x:Name="rainbow">
                        <Grid.Style>
                            <Style TargetType="Grid">
                                <Setter Property="Visibility" Value="Visible"></Setter>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding ElementName=EffectBox,Path=SelectedItem}" Value="Sáng theo dải màu">
                                        <Setter Property="Visibility" Value="Visible"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Grid.Style>



                        <hc:TransitioningContentControl TransitionMode="Right2LeftWithFade"  >


                            <StackPanel  Margin="45,15,0,0" Orientation="Vertical" >
                                <Grid Height="auto" Margin="0,0,10,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Style="{DynamicResource TextBlockDefault}" Grid.Row="0" Margin="10, 10, 10, 10" Grid.Column="0" Text="ĐỒNG BỘ HỆ THỐNG"  VerticalAlignment="Center"  HorizontalAlignment="Left"/>
                                    <ToggleButton x:Name="AmbinSync" 
                              IsChecked="{Binding CurrentDevice.SyncOn }" 
                              ToolTip="Unlock để chỉnh sửa vị trí LED ảo " 
                              Foreground="#FF326CF3" 
                              Background="#3F326CF3" 
                              Padding="7" 
                              Style="{StaticResource ToggleButtonSwitch}" 
                              Grid.Column="1"
                              Grid.Row="0"  
                              materialDesign:ButtonAssist.CornerRadius="7" 
                              materialDesign:ShadowAssist.ShadowDepth="Depth0" 
                              Margin="0,0,10,0"  BorderBrush="{x:Null}"  
                              HorizontalAlignment="Right" 
                              VerticalAlignment="Center">

                                    </ToggleButton>
                                    <TextBlock Style="{DynamicResource TextBlockDefaultSecLight}" Margin="10, 0, 10, 10" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" Text="Thiết bị sẽ chạy theo màu, vị trí đồng bộ với hệ thống" HorizontalAlignment="Left" VerticalAlignment="Center" />

                                </Grid>
                                <hc:Divider Margin="10,10,10,10" />
                                <Grid>

                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto"/>
                                        <RowDefinition Height="auto"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Style="{DynamicResource TextBlockDefault}" Grid.Row="0" Margin="10, 10, 10, 10"  Text="CHỌN DẢI MÀU"  VerticalAlignment="Center"  HorizontalAlignment="Left"/>
                                    <hc:TransitioningContentControl Grid.Row="1">
                                        <ListBox  ScrollViewer.CanContentScroll="True"
                                                  ScrollViewer.VerticalScrollBarVisibility="Auto" 
                                                  ItemContainerStyle="{DynamicResource _ListBoxItemStyle}" 
                                                  Height="180"
                                                  x:Name="AvailablePalette"
                                                  Margin="0,10,0,10"
                                                  BorderThickness="0" 
                                                  SelectedIndex="{Binding CurrentDevice.SelectedPalette}"
                                                  Style="{DynamicResource WrapPanelHorizontalListBox}" 
                                                  ItemsPanel="{DynamicResource WrapPanelHorizontalItemsPanelTemplate}" 
                                                  ItemsSource="{Binding AvailablePallete}">
                                            <i:Interaction.Triggers>
                                                <i:EventTrigger EventName="SelectionChanged">
                                                    <i:InvokeCommandAction Command="{Binding ChangeCurrentDeviceSelectedPalette}" CommandParameter="{Binding ElementName=AvailablePalette,Path=SelectedItem}"/>
                                                </i:EventTrigger>
                                            </i:Interaction.Triggers>
                                            <ListBox.ItemTemplate>
                                                <DataTemplate DataType="data:CardModel">
                                                    <hc:Card ToolTip="{Binding Description}" hc:BorderElement.CornerRadius="2"  MaxWidth="120"  Effect="{StaticResource EffectShadow2}" Margin="8" Footer="{Binding Name}">
                                                        <Border CornerRadius="2,2,0,0" Style="{StaticResource BorderClip}">
                                                            <ItemsControl ItemsSource="{Binding Thumbnail}">
                                                                <ItemsControl.ItemsPanel>
                                                                    <ItemsPanelTemplate>
                                                                        <StackPanel Orientation="Horizontal">
                                                                            
                                                                        </StackPanel>
                                                                    </ItemsPanelTemplate>
                                                                </ItemsControl.ItemsPanel>
                                                                <ItemsControl.ItemTemplate>
                                                                    <DataTemplate>
                                                                        <Rectangle  Fill="{Binding ., Converter={StaticResource ColorToBrushConverter}, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"   Margin="0,0,0,0" HorizontalAlignment="Center" VerticalAlignment="Center" Width="7" Height="20" />
                                                                    </DataTemplate>
                                                                </ItemsControl.ItemTemplate>
                                                            </ItemsControl>
                                                            
                                                        </Border>
                                                        <hc:Card.ContextMenu>

                                                            <ContextMenu Style="{DynamicResource ContextMenuBaseStyle}">
                                                                <MenuItem Header="Share" Style="{DynamicResource MenuItemBaseStyle}"/>
                                                                <MenuItem Header="Edit" Style="{DynamicResource MenuItemBaseStyle}"/>
                                                                <MenuItem Header="Delete" Style="{DynamicResource MenuItemBaseStyle}"/>
                                                               
                                                            </ContextMenu>
                                                            </hc:Card.ContextMenu>
                                                        <hc:Card.FooterTemplate>
                                                            <DataTemplate>
                                                                <StackPanel Orientation="Horizontal" Margin="10">
                                                                    <TextBlock TextWrapping="NoWrap" TextTrimming="CharacterEllipsis" Style="{StaticResource TextBlockDefault}" Text="{Binding DataContext.Name,RelativeSource={RelativeSource AncestorType=hc:Card}}" HorizontalAlignment="Left"/>
                                                                    <!--<hc:SplitButton  Margin="0,0,0,0"   HorizontalAlignment="Right">
                                                                        <hc:SplitButton.DropDownContent>
                                                                            <StackPanel>
                                                                                <MenuItem Header="Edit" Command="{Binding SelectCmd}" CommandParameter="Command1"/>
                                                                                <MenuItem Header="Share" Command="{Binding SelectCmd}" CommandParameter="Command2"/>
                                                                                <MenuItem Header="Export" Command="{Binding SelectCmd}" CommandParameter="Command3"/>
                                                                                <MenuItem Header="Delete" Command="{Binding SelectCmd}" CommandParameter="Command3"/>
                                                                            </StackPanel>
                                                                        </hc:SplitButton.DropDownContent>
                                                                    </hc:SplitButton>-->
                                                                    
                                                                </StackPanel>
                                                            </DataTemplate>
                                                        </hc:Card.FooterTemplate>
                                                        
                                                        
                                                    </hc:Card>
                                                </DataTemplate>
                                            </ListBox.ItemTemplate>
                                            
                                        </ListBox>
                                    </hc:TransitioningContentControl>
                                </Grid>
                                <hc:Divider Margin="10,10,10,10" />


                                <Grid  Height="auto">

                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto"/>
                                        <RowDefinition Height="auto"/>
                                        <RowDefinition Height="auto"/>
                                    </Grid.RowDefinitions>

                                    <TextBlock Style="{DynamicResource TextBlockDefault}" Grid.Row="0" Margin="20,10,0,0" Grid.Column="0" Text="TỐC ĐỘ "  VerticalAlignment="Center"  HorizontalAlignment="Left" />
                                    <TextBlock  Style="{DynamicResource TextBlockDefaultSecLight}" Margin="10,0,10,10" Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="3" Text="Sự nhanh chậm của hiệu ứng còn phụ thuộc vào số lượng LE"  VerticalAlignment="Center"  HorizontalAlignment="Left" />

                                    <hc:PreviewSlider Margin="10,10,10,10" Grid.Row="1"  HorizontalAlignment="Stretch"  Maximum="15">
                                        <hc:PreviewSlider.PreviewContent>
                                            <Label Style="{DynamicResource LabelPrimary}" Content="{Binding Path=(hc:PreviewSlider.PreviewPosition),RelativeSource={RelativeSource Self}}" ContentStringFormat="#0.00"/>
                                        </hc:PreviewSlider.PreviewContent>
                                        <hc:PreviewSlider.Style>
                                            <Style TargetType="hc:PreviewSlider" BasedOn="{StaticResource PreviewSliderBaseStyle}" >

                                                <Style.Triggers>
                                                    <DataTrigger Binding="{Binding ElementName=AmbinSync,Path=IsChecked}" Value="false">
                                                        <Setter Property="Value" Value="{Binding CurrentDevice.EffectSpeed}"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding ElementName=AmbinSync,Path=IsChecked}" Value="false">
                                                        <Setter Property="TickFrequency" Value="1"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding ElementName=AmbinSync,Path=IsChecked}" Value="true">
                                                        <Setter Property="Value" Value="{Binding GeneralSettings.SystemRainbowSpeed }"/>
                                                    </DataTrigger>
                                                    <DataTrigger Binding="{Binding ElementName=AmbinSync,Path=IsChecked}" Value="true">
                                                        <Setter Property="TickFrequency" Value="1"/>
                                                    </DataTrigger>
                                                </Style.Triggers>
                                            </Style>
                                        </hc:PreviewSlider.Style>
                                    </hc:PreviewSlider>

                                    

                                </Grid>
                                <hc:Divider Margin="10,10,10,10" />
                                <Grid Visibility="{Binding ElementName=AmbinSync,Path=IsChecked,Converter={StaticResource InverseBoolToVisConverter}}" Height="80" Margin="0,0,10,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="auto"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Style="{DynamicResource TextBlockDefault}" Grid.Row="0" Margin="20,10,0,0" Grid.Column="0" Text="ĐỘ PHÂN GIẢI MÀU SẮC"  VerticalAlignment="Center"  HorizontalAlignment="Left" />
                                    <TextBlock HorizontalAlignment="Left" Style="{DynamicResource TextBlockDefaultSecLight}" Margin="10, 0, 10, 10" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" Text="Số lần mà bạn muốn dải màu hiển thị trên dây LED trong 1 chu kỳ"  VerticalAlignment="Center" />
                                    <hc:NumericUpDown HorizontalContentAlignment="Center" Minimum="1" Maximum="4" Grid.Column="1"  Value="{Binding CurrentDevice.ColorFrequency}" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,10,0" />

                                    
                                </Grid>

                                <hc:Divider Margin="10,10,10,10" />

                                <StackPanel Orientation="Vertical">
                                    <StackPanel.Style>
                                        <Style TargetType="StackPanel">
                                            <Setter Property="Visibility" Value="Collapsed"></Setter>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ElementName=RainbowPaletteBox,Path=SelectedItem}" Value="Custom">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </StackPanel.Style>
                                    <hc:TransitioningContentControl TransitionMode="Left2RightWithFade" Margin="0,0,10,0">
                                        <Grid Height="auto">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="auto"/>
                                                <ColumnDefinition Width="auto"/>
                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                            </Grid.RowDefinitions>
                                            <TextBlock Style="{DynamicResource TextBlockDefault}" Grid.Row="0" Margin="20, 10, 0, 10" Grid.Column="0" Text="CUSTOM ZONE"  VerticalAlignment="Center"  HorizontalAlignment="Left"/>
                                            <TextBlock HorizontalAlignment="Left" Style="{DynamicResource TextBlockDefaultSecLight}" Margin="10, 0, 0, 10" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" Text="Click vào từng ô màu để chọn màu mà bạn muốn"  VerticalAlignment="Center" />
                                            <Button Grid.Column="1"
                ToolTip="Thêm thiết bị theo cách thủ công"  
                Content="Import" 
                Style="{DynamicResource ButtonPrimary}"
                Width="auto" 
                Height="32" 
                FontWeight="Bold"
                FontSize="14"
                VerticalAlignment="Center" 
                Padding="5,0"
                BorderBrush="BlueViolet"
                BorderThickness="1"
                hc:BorderElement.CornerRadius="7"
                Command="{Binding ShowAddNewCommand}" 
                HorizontalAlignment="Center" Margin="10,0,10,0">
                                                <Button.Background>
                                                    <SolidColorBrush Color="BlueViolet" Opacity="0.25">

                                                    </SolidColorBrush>

                                                </Button.Background>
                                                <Button.Foreground>
                                                    <SolidColorBrush Color="BlueViolet" />

                                                </Button.Foreground>

                                            </Button>

                                            <Button Grid.Column="2"
                ToolTip="Thêm thiết bị theo cách thủ công"  
                Content="Save" 
                Style="{DynamicResource ButtonPrimary}"
                Width="auto" 
                Height="32" 
                FontWeight="Bold"
                FontSize="14"
                VerticalAlignment="Center" 
                Padding="5,0"
                BorderBrush="BlueViolet"
                BorderThickness="1"
                hc:BorderElement.CornerRadius="7"
                Command="{Binding ShowAddNewCommand}" 
                HorizontalAlignment="Center" Margin="10,0,10,0">
                                                <Button.Background>
                                                    <SolidColorBrush Color="BlueViolet" Opacity="0.25">

                                                    </SolidColorBrush>

                                                </Button.Background>
                                                <Button.Foreground>
                                                    <SolidColorBrush Color="BlueViolet" />

                                                </Button.Foreground>

                                            </Button>
                                        </Grid>

                                    </hc:TransitioningContentControl>
                                    <hc:Divider Margin="10,10,10,10" />
                                    <hc:TransitioningContentControl TransitionMode="Left2RightWithFade">
                                        <Grid >
                                            <ListView HorizontalAlignment="Stretch"    Margin="10,10,10,10" x:Name="RainbowCustomZone"  ItemsSource="{Binding CurrentCustomZoneColor}"  SelectedIndex="{Binding CurrentSelectedCustomColorIndex,Mode=OneWayToSource}"  VerticalAlignment="Center">
                                                <i:Interaction.Triggers>
                                                    <i:EventTrigger EventName="SelectionChanged">
                                                        <i:InvokeCommandAction Command="{Binding SetZoneColorCommand}" CommandParameter="SetZone"/>
                                                    </i:EventTrigger>
                                                </i:Interaction.Triggers>
                                                <ListView.ItemsPanel>
                                                    <ItemsPanelTemplate>
                                                        <hc:SimpleStackPanel Orientation="Horizontal">
                                                        </hc:SimpleStackPanel>
                                                    </ItemsPanelTemplate>
                                                </ListView.ItemsPanel>
                                                <ListView.Template>
                                                    <ControlTemplate TargetType="{x:Type ItemsControl}">
                                                        <Border>
                                                            <hc:ScrollViewer CanContentScroll="true" PreviewMouseWheel="ScrollViewer_PreviewMouseWheel" >
                                                                <ItemsPresenter />
                                                            </hc:ScrollViewer>
                                                        </Border>
                                                    </ControlTemplate>
                                                </ListView.Template>
                                                <ListView.ItemTemplate>
                                                    <DataTemplate>
                                                        <Rectangle  Fill="{Binding ., Converter={StaticResource ColorToBrushConverter}, UpdateSourceTrigger=PropertyChanged, Mode=TwoWay}"   Margin="0,0,0,0" HorizontalAlignment="Center" VerticalAlignment="Center" Width="20" Height="20" >
                                                        </Rectangle>
                                                    </DataTemplate>
                                                </ListView.ItemTemplate>
                                            </ListView>
                                        </Grid>
                                    </hc:TransitioningContentControl>


                                    <hc:TransitioningContentControl TransitionMode="Left2RightWithFade">
                                        <Grid  Height="auto">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <hc:ColorPicker  SelectedBrush="{Binding CurrentPickedColor,Converter={StaticResource ColorToBrushConverter},UpdateSourceTrigger=PropertyChanged,Mode=TwoWay}" x:Name="ColorPicker" Margin="0">


                                            </hc:ColorPicker>

                                        </Grid>

                                    </hc:TransitioningContentControl>
                                </StackPanel>

                            </StackPanel>
                        </hc:TransitioningContentControl>

                    </Grid>
                    <!-- Rainbow-->
                    <Grid x:Name="Ambilight">
                        <Grid.Style>
                            <Style TargetType="Grid">
                                <Setter Property="Visibility" Value="Collapsed"></Setter>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding ElementName=EffectBox,Path=SelectedItem}" Value="Sáng theo màn hình">
                                        <Setter Property="Visibility" Value="Visible"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Grid.Style>



                        <hc:TransitioningContentControl TransitionMode="Right2LeftWithFade">


                            <StackPanel   Margin="45,15,0,0" Orientation="Vertical">

                                <TextBlock Margin="10,0,0,0" Padding="0,0,0,10" Text="CÀI ĐẶT NÂNG CAO CHO CHẾ ĐỘ SÁNG THEO MÀN HÌNH" FontSize="14" VerticalAlignment="Center" Foreground="#FF898989" HorizontalAlignment="Left"/>


                                <Grid Height="80">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="67*"/>
                                        <ColumnDefinition Width="307*"/>
                                        <ColumnDefinition Width="187*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition/>
                                        <RowDefinition Height="40"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Margin="10,0,0,0" Grid.Column="0" Text="Chọn Màn Hình" FontSize="17" VerticalAlignment="Center" Foreground="Black" Grid.ColumnSpan="2" HorizontalAlignment="Left"/>
                                    <TextBlock Margin="10,0,0,0" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="3" Text="Mỗi thiết bị USB chỉ sáng theo 1 màn hình" FontSize="14" VerticalAlignment="Center" Foreground="#FF898989" HorizontalAlignment="Left"/>
                                    <Rectangle Grid.Row="1" Grid.ColumnSpan="3" Height="1" Fill="#14000000" VerticalAlignment="Bottom" Margin="10,0,0,5"/>
                                    <ComboBox x:Name="selecteddisplay" SelectedIndex="{Binding CurrentDevice.SelectedDisplay}"  Style="{StaticResource ComboBoxExtend}" Width="150" Margin="0,0,10,0" Grid.Column="2" Grid.Row="0" HorizontalAlignment="Right" VerticalAlignment="Center">
                                        <ComboBoxItem>
                                            Màn 1
                                        </ComboBoxItem>
                                        <ComboBoxItem>
                                            Màn 2
                                        </ComboBoxItem>
                                        <ComboBoxItem>
                                            Màn 3
                                        </ComboBoxItem>
                                    </ComboBox>

                                </Grid>
                                <Grid Height="80">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Margin="10, 0, 0, 0" Grid.Column="0" Text="Tốc Độ Phản Hồi" FontSize="17" VerticalAlignment="Center" Foreground="Black" HorizontalAlignment="Left"/>
                                    <TextBlock Margin="10, 0, 0, 0" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" Text="Sự nhanh chậm của LED so với hình ảnh trong màn hình " FontSize="14" VerticalAlignment="Center" Foreground="#FF898989" HorizontalAlignment="Left"/>
                                    <Rectangle Grid.Row="1" Margin="10,0,0,5" Grid.ColumnSpan="2" Height="1" Fill="#14000000" VerticalAlignment="Bottom"/>
                                    <Slider Minimum="0" Maximum="5" Value="{Binding GeneralSettings.SmoothFactor}"  Style="{StaticResource SliderBaseStyle}" Width="150" Margin="0,0,10,0" Grid.Row="0" Grid.Column="1" VerticalAlignment="Center" HorizontalAlignment="Right"/>
                                    <Button Width="59" Grid.Column="0"  Style="{StaticResource MaterialDesignFlatButton}" Content="255" materialDesign:ButtonAssist.CornerRadius="7" materialDesign:ShadowAssist.ShadowDepth="Depth0"  Background="#26000000" BorderBrush="{x:Null}" Foreground="#FF898989" Margin="0,0,20,0" HorizontalAlignment="Right" VerticalAlignment="Center"/>
                                </Grid>
                                <Grid Height="80" Margin="0,0,0.1,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="51*"/>
                                        <ColumnDefinition Width="80*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Margin="10,10,0,10" Grid.Column="0" Text="Cân Bằng Trắng" FontSize="17" VerticalAlignment="Center" Foreground="Black" HorizontalAlignment="Left" Height="20" Width="118"/>
                                    <TextBlock Margin="10,12,0,12" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" Text="Tăng hoặc giảm từng kênh màu cho đến khi thấy màu trắng vừa mắt nhất" FontSize="14" VerticalAlignment="Center" Foreground="#FF898989" HorizontalAlignment="Left" Height="16" Width="454"/>
                                    <Rectangle Grid.Row="1" Grid.ColumnSpan="2" Height="1" Fill="#14000000" VerticalAlignment="Bottom" Margin="10,0,0,5"/>
                                    <UniformGrid Margin="0,0,10,0" Rows="1" Columns="4" VerticalAlignment="Center" HorizontalAlignment="Right" Height="40" Width="320" Grid.ColumnSpan="2">
                                        <RadioButton Grid.Row="0" x:Name="neutral"  Margin="10,0,0,0" Style="{StaticResource RadioButtonIcon}" Content="Neutral" HorizontalAlignment="Center" Foreground="#FF898989" Checked="neutral_Checked">
                                            <RadioButton.Background>
                                                <SolidColorBrush Color="#26000000"/>
                                            </RadioButton.Background>
                                        </RadioButton>
                                        <RadioButton Grid.Row="0" x:Name="WBWarm" Margin="10,0,0,0" Style="{StaticResource RadioButtonIcon}" Content="Warm" IsChecked="True" Foreground="#FF898989" Checked="WBWarm_Checked">
                                            <RadioButton.Background>
                                                <SolidColorBrush Color="#26000000"/>
                                            </RadioButton.Background>
                                        </RadioButton>
                                        <RadioButton Grid.Row="0" x:Name="WBCold" Margin="10,0,0,0" Style="{StaticResource RadioButtonIcon}" Content="Cold" IsChecked="False" Foreground="#FF898989" Checked="WBCold_Checked">
                                            <RadioButton.Background>
                                                <SolidColorBrush Color="#26000000"/>
                                            </RadioButton.Background>
                                        </RadioButton>
                                        <RadioButton Grid.Row="0" x:Name="WBCustom" Margin="10,0,0,0" Style="{StaticResource RadioButtonIcon}" Content="Custom" IsChecked="False" Foreground="#FF898989">
                                            <RadioButton.Background>
                                                <SolidColorBrush Color="#26000000"/>
                                            </RadioButton.Background>
                                        </RadioButton>


                                    </UniformGrid>

                                </Grid>
                                <Grid>
                                    <Grid.Style>
                                        <Style TargetType="Grid">
                                            <Setter Property="Visibility" Value="Collapsed"></Setter>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ElementName=WBCustom, Path=IsChecked }" Value="True" >
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>
                                    <hc:TransitioningContentControl TransitionMode="Left2RightWithFade">


                                        <Grid Margin="45,0,0,0" Height="160">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="316*"/>
                                                <ColumnDefinition Width="175*"/>

                                            </Grid.ColumnDefinitions>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                                <RowDefinition Height="*"/>
                                            </Grid.RowDefinitions>
                                            <Slider x:Name="wbred"   Value="{Binding GeneralSettings.WhitebalanceRed}" Minimum="0" Maximum="100" Style="{StaticResource SliderBaseStyle}" Width="150" Margin="0,0,10,0" Grid.Row="0" Grid.Column="1" VerticalAlignment="Center" HorizontalAlignment="Right" Height="18"/>
                                            <Button Padding="0" BorderThickness="2" Grid.Column="0"  Style="{StaticResource MaterialDesignFlatButton}" Content="{Binding GeneralSettings.WhitebalanceRed}" materialDesign:ButtonAssist.CornerRadius="7" materialDesign:ShadowAssist.ShadowDepth="Depth0"  Background="#FFFFA4A4" BorderBrush="#B2FF0000" Foreground="#B2FF0000" Margin="0,11,20,11" HorizontalAlignment="Right" Height="Auto" Width="55"/>
                                            <Slider  x:Name="wbgreen" Value="{Binding GeneralSettings.WhitebalanceGreen}" Minimum="0" Maximum="100"  Style="{StaticResource SliderBaseStyle}" Width="150" Margin="0,0,10,0" Grid.Row="1" Grid.Column="1" VerticalAlignment="Center" Height="18" HorizontalAlignment="Right"/>
                                            <Button Padding="0" BorderBrush="#B200CB00" BorderThickness="2" Grid.Row="1" Grid.Column="0"  Style="{StaticResource MaterialDesignFlatButton}" Content="{Binding GeneralSettings.WhitebalanceGreen}" materialDesign:ButtonAssist.CornerRadius="7" materialDesign:ShadowAssist.ShadowDepth="Depth0"  Background="#FFB3FFAB" Foreground="#B200CB00" Margin="0,10,20,11" HorizontalAlignment="Right" VerticalAlignment="Center" Width="55"/>

                                            <Slider x:Name="wbblue" Value="{Binding GeneralSettings.WhitebalanceBlue}" Minimum="0" Maximum="100"  Style="{StaticResource SliderBaseStyle}" Width="150" Margin="0,0,10,0" Grid.Row="2" Grid.Column="1" VerticalAlignment="Center" Height="18" HorizontalAlignment="Right"/>
                                            <Button BorderThickness="2" Padding="0" Grid.Row="2" Grid.Column="0"  Style="{StaticResource MaterialDesignFlatButton}" Content="{Binding GeneralSettings.WhitebalanceBlue}" materialDesign:ButtonAssist.CornerRadius="7" materialDesign:ShadowAssist.ShadowDepth="Depth0"  Background="#FF76B8FB" BorderBrush="#FF1776FF" Foreground="#FF1776FF" Margin="0,11,20,10" HorizontalAlignment="Right" Height="Auto" Width="55"/>
                                        </Grid>
                                    </hc:TransitioningContentControl>
                                </Grid>

                            </StackPanel>
                        </hc:TransitioningContentControl>

                    </Grid>

                    <!-- SpotReader(Screen Capture)-->


                    <Grid x:Name="static" Margin="45,0,0,0" Height="427">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <Grid.Style>
                            <Style TargetType="Grid">
                                <Setter Property="Visibility" Value="Collapsed"></Setter>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding ElementName=EffectBox,Path=SelectedItem}" Value="Sáng màu tĩnh">
                                        <Setter Property="Visibility" Value="Visible"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Grid.Style>
                        <hc:TransitioningContentControl TransitionMode="Left2RightWithFade">


                            <StackPanel Grid.Column="0" Visibility="Visible" Margin="0,15,0,0" Orientation="Vertical">

                                <TextBlock Grid.ColumnSpan="2" Margin="10,0,-117,0" Padding="0,0,0,10" Text="CÀI ĐẶT NÂNG CAO CHO CHẾ ĐỘ SÁNG MÀU TĨNH" FontSize="14" VerticalAlignment="Center" Foreground="#FF898989" HorizontalAlignment="Left" Width="370"/>
                                <Grid Height="80" Margin="0,0,0,0" HorizontalAlignment="Left" Width="250">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Margin="10, 0, 0, 0" Grid.Column="0" Text="Chọn Màu" FontSize="17" VerticalAlignment="Center" Foreground="Black" HorizontalAlignment="Left"/>
                                    <TextBlock Margin="10, 0, 0, 0" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" Text="Có thể dùng mã màu Hex " FontSize="14" VerticalAlignment="Top" Foreground="#FF898989"/>
                                    <Rectangle Grid.Row="1" Grid.ColumnSpan="2" Height="1" Width="585" Fill="#14000000" VerticalAlignment="Bottom" Margin="10,0,10,5"/>

                                </Grid>
                                <Grid Height="80" Margin="0,0,0,0" HorizontalAlignment="Left" Width="250">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Margin="10, 0, 0, 0" Grid.Column="0" Text="Breathing" FontSize="17" VerticalAlignment="Center" Foreground="Black" HorizontalAlignment="Left"/>
                                    <TextBlock Margin="10, 0, 0, 0" Grid.Row="1" Grid.Column="0" Text="Bật hoặc tắt Breathing" FontSize="14" VerticalAlignment="Top" Foreground="#FF898989" HorizontalAlignment="Left" Width="146"/>
                                    <Rectangle Grid.Row="1" Margin="10,0,10,5" Grid.ColumnSpan="2" Height="1" Fill="#14000000" VerticalAlignment="Bottom"/>
                                    <ToggleButton Grid.Column="1" Margin="0,0,10,0"
                     Style="{StaticResource ToggleButtonSwitch}"
                     
                     IsChecked="{Binding CurrentDevice.IsBreathing}" HorizontalAlignment="Right" />

                                </Grid>
                                <Grid Height="80" Margin="0,0,0,0" HorizontalAlignment="Left" Width="250">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Margin="10,10,0,10" Grid.Column="0" Text="Speed" FontSize="17" VerticalAlignment="Center" Foreground="Black" HorizontalAlignment="Left" Height="20" Width="47"/>
                                    <TextBlock Margin="10, 0, 0, 0" Grid.Row="1" Grid.Column="0" FontSize="14" VerticalAlignment="Top" Foreground="#FF898989" HorizontalAlignment="Left" Text="Tốc độ sáng dần, tắt dần của LED" Width="208" Grid.ColumnSpan="2" Height="17"/>
                                    <Slider Value="{Binding CurrentDevice.BreathingSpeed}" Minimum="1" Maximum="10" Style="{StaticResource SliderBaseStyle}" Margin="0,11" Grid.Row="0" Grid.Column="1" VerticalAlignment="Center" Height="18"/>

                                </Grid>
                            </StackPanel>
                        </hc:TransitioningContentControl>

                        <Grid Grid.Column="1">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="214*"/>
                                <RowDefinition Height="213*"/>
                            </Grid.RowDefinitions>

                            <materialDesign:ColorPicker x:Name="StaticColorPicker" Margin="15,55,10,0" Color="{Binding CurrentDevice.StaticColor}"/>
                            <TextBox  Grid.Row="1" Style="{StaticResource TextBoxExtend}" Text="{Binding Color, ElementName=StaticColorPicker, UpdateSourceTrigger=PropertyChanged}" Margin="16,9,161,171" HorizontalContentAlignment="Center"/>

                        </Grid>

                    </Grid>
                    <!-- Static Color-->

                    <Grid x:Name="canvas" Margin="45,0,0,0" Height="427">


                        <Grid.Style>
                            <Style TargetType="Grid">
                                <Setter Property="Visibility" Value="Collapsed"></Setter>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding ElementName=EffectBox,Path=SelectedItem}" Value="Canvas Lighting">
                                        <Setter Property="Visibility" Value="Visible"/>
                                    </DataTrigger>
                                    <DataTrigger Binding="{Binding ElementName=EffectBox,Path=SelectedItem}" Value="Sáng theo màn hình">
                                        <Setter Property="Visibility" Value="Visible"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Grid.Style>
                        <hc:TransitioningContentControl TransitionMode="Left2RightWithFade">


                            <StackPanel  Visibility="Visible" Margin="0,15,0,0" Orientation="Vertical">

                                <TextBlock Grid.ColumnSpan="2" Margin="10,0,-117,0" Padding="0,0,0,10" Text="CÀI ĐẶT LAYOUT" FontSize="14" VerticalAlignment="Center" Foreground="#FF898989" HorizontalAlignment="Left" Width="370"/>
                                <Grid Height="80" Margin="0,0,0,0" HorizontalAlignment="Left" Width="516">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="146*"/>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="109*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Margin="10,0,0,0" Grid.Column="0" Text="Chọn kiểu sắp xếp" FontSize="17" VerticalAlignment="Center" Foreground="Black" HorizontalAlignment="Left" Grid.ColumnSpan="3"/>
                                    <TextBlock Margin="10, 0, 0, 0" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="3" Text="Kiểu sắp xếp gần nhất với thực tế " FontSize="14" VerticalAlignment="Top" Foreground="#FF898989"/>
                                    <Rectangle Grid.Row="1" Grid.ColumnSpan="3" Height="1" Fill="#14000000" VerticalAlignment="Bottom" Margin="10,0,10,5"/>
                                    <ComboBox IsEnabled="{Binding CurrentDevice.LayoutEnabled}" Style="{StaticResource ComboBoxExtend}" SelectedIndex="{Binding CurrentDevice.DeviceLayout}" x:Name="deviceLayout" ItemsSource="{Binding AvailableLayout}" Grid.Column="2" VerticalAlignment="Center" HorizontalAlignment="Right" Width="180"/>

                                </Grid>
                                <Grid Height="80" Margin="0,0,0,0" HorizontalAlignment="Left" Width="522">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Margin="10,0,0,0" Grid.Column="0" Text="Chiều dài" FontSize="17" VerticalAlignment="Center" Foreground="Black" HorizontalAlignment="Left" Height="20" Width="82"/>
                                    <TextBlock Margin="10, 0, 0, 0" Grid.Row="1" Grid.Column="0" FontSize="14" VerticalAlignment="Top" Foreground="#FF898989" HorizontalAlignment="Left" Text="Chiều rộng tương đối so với Hiệu ứng" Width="231" Grid.ColumnSpan="2" Height="17"/>
                                    <Slider x:Name="deviceWidth" Grid.Column="0" Value="{Binding DeviceRectWidth,Mode=TwoWay}" TickFrequency="1" hc:TipElement.Visibility="Visible" hc:TipElement.Placement="Right" hc:TipElement.StringFormat="#0.00" Minimum="{Binding CurrentDevice.SpotsX}" Maximum="{Binding DeviceRectWidthMax}" Style="{StaticResource SliderBaseStyle}" VerticalAlignment="Center" Height="18" ValueChanged="Slider_ValueChanged" HorizontalAlignment="Right" Width="121"/>
                                    <TextBlock Margin="10,0,0,0" Grid.Column="1" Text="Chiều cao" FontSize="17" VerticalAlignment="Center" Foreground="Black" HorizontalAlignment="Left" Height="20" Width="82"/>
                                    <TextBlock Margin="10,0,0,0" Grid.Row="1" Grid.Column="1" FontSize="14" VerticalAlignment="Top" Foreground="#FF898989" HorizontalAlignment="Left" Text="Chiều rộng tương đối so với Hiệu ứng" Width="231" Height="17"/>
                                    <Slider x:Name="deviceHeight" Grid.Column="1" Value="{Binding DeviceRectHeight, Mode=TwoWay}" TickFrequency="1" hc:TipElement.Visibility="Visible" hc:TipElement.Placement="Right" hc:TipElement.StringFormat="#0.00" Minimum="{Binding CurrentDevice.SpotsY}" Maximum="{Binding DeviceRectHeightMax}" Style="{StaticResource SliderBaseStyle}" VerticalAlignment="Center" Height="18" ValueChanged="Slider_ValueChanged" HorizontalAlignment="Right" Width="121" Margin="0,0,5,0"/>

                                </Grid>
                                <Grid Height="80" Width="516" HorizontalAlignment="Left">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="146*"/>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="109*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>

                                    <Grid.Style>
                                        <Style TargetType="Grid">
                                            <Setter Property="Visibility" Value="Collapsed"></Setter>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ElementName=deviceLayout,Path=SelectedItem}" Value="Strip, Bar">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </DataTrigger>

                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>
                                    <TextBlock Margin="10,0,0,0" Grid.Column="0" Text="Góc quay" FontSize="17" VerticalAlignment="Center" Foreground="Black" HorizontalAlignment="Left" Grid.ColumnSpan="3"/>
                                    <TextBlock Margin="10, 0, 0, 0" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="3" Text="Góc quay so với hướng nhìn " FontSize="14" VerticalAlignment="Top" Foreground="#FF898989"/>
                                    <Rectangle Grid.Row="1" Grid.ColumnSpan="3" Height="1" Fill="#14000000" VerticalAlignment="Bottom" Margin="10,0,10,5"/>
                                    <ComboBox  Style="{StaticResource ComboBoxExtend}" SelectedIndex="{Binding CurrentDevice.DeviceRotation}" x:Name="deviceLayout1" ItemsSource="{Binding AvailableRotation}" Grid.Column="2" VerticalAlignment="Center" HorizontalAlignment="Right" Width="180"/>

                                </Grid>
                                <Grid Height="80" Margin="0,0,0,0" HorizontalAlignment="Left" Width="516">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <Grid.Style>
                                        <Style TargetType="Grid">
                                            <Setter Property="Visibility" Value="Collapsed"></Setter>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ElementName=deviceLayout,Path=SelectedItem}" Value="Square, Ring, Rectangle">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding ElementName=deviceLayout,Path=SelectedItem}" Value="Matrix">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>
                                    <TextBlock Grid.Row="0" Margin="10, 0, 0, 0" Grid.Column="0" Text="Số LED ngang" FontSize="17" VerticalAlignment="Center" Foreground="Black" HorizontalAlignment="Left"/>
                                    <TextBlock Margin="10, 0, 0, 0" Grid.Row="1" Grid.Column="0" Text="Số LED chiều ngang thực tế" FontSize="14" VerticalAlignment="Top" Foreground="#FF898989" HorizontalAlignment="Left" Width="175"/>
                                    <Rectangle Grid.Row="1" Margin="10,0,10,5" Grid.ColumnSpan="2" Height="1" Fill="#14000000" VerticalAlignment="Bottom"/>
                                    <TextBlock Margin="10,0,0,0" Grid.Column="1" Text="Số LED dọc" FontSize="17" VerticalAlignment="Center" Foreground="Black" HorizontalAlignment="Left" Grid.ColumnSpan="2"/>
                                    <TextBlock Margin="10,0,0,0" Grid.Row="1" Grid.Column="1" Text="Số LED chiều dọc thực tế" FontSize="14" VerticalAlignment="Top" Foreground="#FF898989" HorizontalAlignment="Left" Width="176"/>
                                    <hc:NumericUpDown Grid.Column="0" Grid.Row="0"  ToolTip="Số LED" Minimum="1" Maximum="17" Width="70" Value="{Binding CurrentDevice.SpotsX}" HorizontalAlignment="Right" VerticalAlignment="Center" HorizontalContentAlignment="Center" Margin="0,0,5,0"/>
                                    <hc:NumericUpDown Grid.Column="1"  ToolTip="Số LED" Minimum="1" Maximum="17" Width="70" Value="{Binding CurrentDevice.SpotsY}" HorizontalAlignment="Right" VerticalAlignment="Center" HorizontalContentAlignment="Center"/>

                                </Grid>

                                <Grid Height="80" Width="523" HorizontalAlignment="Left">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <Grid.Style>
                                        <Style TargetType="Grid">
                                            <Setter Property="Visibility" Value="Collapsed"></Setter>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding ElementName=deviceLayout,Path=SelectedItem}" Value="Square, Ring, Rectangle">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>
                                    <TextBlock Grid.Row="0" Margin="10,10,0,10" Grid.Column="0" Text="Offset" FontSize="17" VerticalAlignment="Center" Foreground="Black" HorizontalAlignment="Left" Height="20" Width="47"/>
                                    <TextBlock Margin="10, 0, 0, 0" Grid.Row="1" Grid.Column="0" FontSize="14" VerticalAlignment="Top" Foreground="#FF898989" HorizontalAlignment="Left" Text="Vị trí LED số 1" Width="208" Grid.ColumnSpan="2" Height="17"/>
                                    <hc:NumericUpDown  ToolTip="Offset" Minimum="1" Maximum="160" Width="70" Value="{Binding CurrentDevice.OffsetLed}" HorizontalAlignment="Right" VerticalAlignment="Center" HorizontalContentAlignment="Center"/>

                                </Grid>
                                <Grid Height="80" Width="523">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <Grid.Style>
                                        <Style TargetType="{x:Type Grid}">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding SelectedItem, ElementName=deviceLayout}" Value="Strip, Bar">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>
                                    <TextBlock Grid.Row="0" Margin="10,10,0,10" Grid.Column="0" Text="Số LED" FontSize="17" VerticalAlignment="Center" Foreground="Black" HorizontalAlignment="Left" Height="20" Width="60"/>
                                    <TextBlock Margin="10, 0, 0, 0" Grid.Row="1" Grid.Column="0" FontSize="14" VerticalAlignment="Top" Foreground="#FF898989" HorizontalAlignment="Left" Text="Số LED thực tế của dây LED" Width="208" Grid.ColumnSpan="2" Height="17"/>
                                    <hc:NumericUpDown  ToolTip="Số LED" Minimum="1" Maximum="120" Width="70" Value="{Binding CurrentDevice.NumLED}" HorizontalAlignment="Right" VerticalAlignment="Center" HorizontalContentAlignment="Center"/>

                                </Grid>
                                <Grid Height="80" Width="525" HorizontalAlignment="Left">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <Grid.Style>
                                        <Style TargetType="{x:Type Grid}">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding SelectedItem, ElementName=deviceLayout}" Value="Square, Ring, Rectangle">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>
                                    <TextBlock Margin="10,0,0,0" Grid.Column="0" Text="Lật trái phải" FontSize="17" VerticalAlignment="Center" Foreground="Black" HorizontalAlignment="Left" Height="20" Width="95"/>
                                    <TextBlock Margin="10, 0, 0, 0" Grid.Row="1" Grid.Column="0" FontSize="14" VerticalAlignment="Top" Foreground="#FF898989" HorizontalAlignment="Left" Text="Lật các LED theo trục Y" Width="208" Grid.ColumnSpan="2" Height="17"/>
                                    <TextBlock Margin="10,0,0,0" Grid.Column="1" Text="Lật trên dưới" FontSize="17" VerticalAlignment="Center" Foreground="Black" HorizontalAlignment="Left" Height="20" Width="95"/>
                                    <TextBlock Margin="10,0,0,0" Grid.Row="1" Grid.Column="1" FontSize="14" VerticalAlignment="Top" Foreground="#FF898989" HorizontalAlignment="Left" Text="Lật các LED theo trục X" Width="208" Height="17"/>
                                    <ToggleButton IsChecked="{Binding CurrentDevice.MirrorX}" Grid.Column="1" Margin="0,0,10,0"
                     Style="{StaticResource ToggleButtonSwitch}"
                     HorizontalAlignment="Right" />
                                    <ToggleButton IsChecked="{Binding CurrentDevice.MirrorY}" Grid.Column="0" Margin="0,0,10,0"
                     Style="{StaticResource ToggleButtonSwitch}"
                     HorizontalAlignment="Right" />
                                </Grid>
                                <Grid Height="80" Width="522">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition/>
                                        <ColumnDefinition/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <Grid.Style>
                                        <Style TargetType="{x:Type Grid}">
                                            <Setter Property="Visibility" Value="Collapsed"/>
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding SelectedItem, ElementName=deviceLayout}" Value="Matrix">
                                                    <Setter Property="Visibility" Value="Visible"/>
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Grid.Style>

                                    <TextBlock Margin="10,0,0,0" Grid.Column="0" Text="Điểm bắt đầu" FontSize="17" VerticalAlignment="Center" Foreground="Black" HorizontalAlignment="Left" Height="20" Width="104"/>
                                    <TextBlock Margin="10, 0, 0, 0" Grid.Row="1" Grid.Column="0" FontSize="14" VerticalAlignment="Top" Foreground="#FF898989" HorizontalAlignment="Left" Text="Điểm đầu tiên của ma trận" Width="231" Grid.ColumnSpan="2" Height="17"/>
                                    <TextBlock Margin="10,0,0,0" Grid.Column="1" Text="Hướng chạy" FontSize="17" VerticalAlignment="Center" Foreground="Black" HorizontalAlignment="Left" Height="20" Width="93"/>
                                    <TextBlock Margin="10,0,0,0" Grid.Row="1" Grid.Column="1" FontSize="14" VerticalAlignment="Top" Foreground="#FF898989" HorizontalAlignment="Left" Text="Hướng chạy của LED" Width="231" Height="17"/>
                                    <ComboBox  Style="{StaticResource ComboBoxExtend}" SelectedIndex="{Binding CurrentDevice.MatrixStartPoint}" x:Name="deviceLayout_Copy" ItemsSource="{Binding AvailableMatrixStartPoint}" VerticalAlignment="Center" HorizontalAlignment="Right" Width="85" Margin="0,0,-0.1,0"/>
                                    <ComboBox  Style="{StaticResource ComboBoxExtend}" SelectedIndex="{Binding CurrentDevice.MatrixOrientation}" x:Name="deviceLayout_Copy1" ItemsSource="{Binding AvailableMatrixOrientation}" VerticalAlignment="Center" HorizontalAlignment="Right" Width="85" Grid.Column="1" Margin="0,0,10,0"/>

                                </Grid>


                            </StackPanel>
                        </hc:TransitioningContentControl>



                    </Grid>

                    <!--Canvas Lighting -->

                    <Grid x:Name="atmosphere">
                        <Grid.Style>
                            <Style TargetType="Grid">
                                <Setter Property="Visibility" Value="Collapsed"></Setter>
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding ElementName=EffectBox,Path=SelectedItem}" Value="Atmosphere">
                                        <Setter Property="Visibility" Value="Visible"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </Grid.Style>
                        <hc:TransitioningContentControl TransitionMode="Right2LeftWithFade">


                            <StackPanel  Margin="45,15,0,0" Orientation="Vertical">

                                <TextBlock Margin="10,0,0,0" Padding="0,0,0,10" Text="CÀI ĐẶT NÂNG CAO CHO CHẾ ĐỘ ATMOSPHERE" FontSize="14" VerticalAlignment="Center" Foreground="#FF898989"/>
                                <Grid Height="80">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Margin="10, 0, 0, 0" Grid.Column="0" Text="Chọn Màu" FontSize="17" VerticalAlignment="Center" Foreground="Black" HorizontalAlignment="Left"/>
                                    <TextBlock Margin="10, 0, 0, 0" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" Text="Màu bắt đầu và kết thúc của khoảng màu Atmosphere" FontSize="14" VerticalAlignment="Top" Foreground="#FF898989"/>
                                    <Rectangle Grid.Row="1" Grid.ColumnSpan="2" Height="1" Width="585" Fill="#14000000" VerticalAlignment="Bottom" Margin="0,0,0,5"/>
                                    <hc:RangeSlider Minimum="0" Grid.ColumnSpan="2" Grid.Column="0" Width="300" IsSnapToTickEnabled="True" Maximum="360" ValueStart="{Binding CurrentDevice.AtmosphereStart}" ValueEnd="{Binding CurrentDevice.AtmosphereStop}" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,10,0"/>

                                </Grid>
                                <Grid Height="80">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Margin="10, 0, 0, 0" Grid.Column="0" Text="Chuyển động" FontSize="17" VerticalAlignment="Center" Foreground="Black"/>
                                    <TextBlock Margin="10, 0, 0, 0" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" Text="LED sẽ chuyển động theo tốc độ bên dưới" FontSize="14" VerticalAlignment="Top" Foreground="#FF898989"/>
                                    <Rectangle Grid.Row="1" Margin="0,0,10,5" Grid.ColumnSpan="2" Height="1" Width="585" Fill="#16000000" VerticalAlignment="Bottom"/>
                                    <ToggleButton  Grid.Column="1" Margin="0,0,10,0"
                     Style="{StaticResource ToggleButtonSwitch}"
                     ToolTip="MaterialDesignSwitchToggleButton"
                     IsChecked="True" HorizontalAlignment="Right" />

                                </Grid>
                                <Grid Height="80">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="2*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <TextBlock Grid.Row="0" Margin="10, 0, 0, 0" Grid.Column="0" Text="Tốc độ" FontSize="17" VerticalAlignment="Center" Foreground="Black" HorizontalAlignment="Left"/>
                                    <TextBlock Margin="10, 0, 0, 0" Grid.Row="1" Grid.Column="0" Grid.ColumnSpan="2" FontSize="14" VerticalAlignment="Top" Foreground="#FF898989"><Run Text="Tốc độ chuyển động của khoảng màu "/><LineBreak/><Run/></TextBlock>
                                    <Slider Width="150" Style="{StaticResource SliderBaseStyle}" Margin="0,0,10,0" Grid.Row="0" Grid.Column="1" VerticalAlignment="Center" HorizontalAlignment="Right"/>
                                    <Button Width="60" Grid.Column="0"  Style="{StaticResource MaterialDesignFlatButton}" Content="255" materialDesign:ButtonAssist.CornerRadius="7" materialDesign:ShadowAssist.ShadowDepth="Depth0"  Background="#26000000" BorderBrush="{x:Null}" Foreground="#FF898989" Margin="0.5,0,20,0" HorizontalAlignment="Right" VerticalAlignment="Center"/>



                                </Grid>
                                <!-- Music-->
                                <!-- Music-->
                                <!-- Music-->
                            </StackPanel>
                        </hc:TransitioningContentControl>
                    </Grid>
                    <!-- Atmosphere-->
                </StackPanel>
            </hc:ScrollViewer>
        </StackPanel>


    </Grid>



</UserControl>
